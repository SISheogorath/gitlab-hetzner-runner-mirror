{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base",
    "docker:enableMajor"
  ],
  "regexManagers": [
        {
            "fileMatch": ["^Dockerfile$"],
            "matchStrings": ["# renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*?)( versioning=(?<versioning>.*?))?\\n\\s*ARG ([A-Z_]+_VERSION)=\"?(?<currentValue>.*?)\"?\\n"],
            "versioningTemplate": "{{#if versioning}}{{{versioning}}}{{else}}semver{{/if}}"
        }
  ],
  "packageRules": [
     {
        "matchDatasources": ["git-tags"],
        "matchPackageNames": ["https://gitlab.com/gitlab-org/ci-cd/docker-machine.git"],
        "allowedVersions": "/^v[0-9]+\\.[0-9]+\\.[0-9]+-gitlab\\.[0-9]+$/"
     }
  ],
  "prConcurrentLimit": 5,
  "automerge": true,
  "gitLabAutomerge": true
}
